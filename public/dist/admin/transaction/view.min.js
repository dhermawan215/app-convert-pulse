var Index=function(){var csrf_token=$('meta[name="csrf_token"]').attr("content"),table,handleDataTabelUser=function(){table=$("#tbl-transaction").DataTable({responsive:!0,autoWidth:!1,pageLength:15,searching:!0,paging:!0,lengthMenu:[[15,25,50],[15,25,50]],language:{info:"Show _START_ - _END_ from _TOTAL_ data",infoEmpty:"Show 0 - 0 from 0 data",infoFiltered:"",zeroRecords:"Data not found",loadingRecords:"Loading...",processing:"Processing..."},columnsDefs:[{searchable:!1,target:[0,1]},{orderable:!1,target:0}],processing:!0,serverSide:!0,ajax:{url:url+"/admin/transactions",type:"POST",data:{_token:csrf_token}},columns:[{data:"rnum",orderable:!1},{data:"id",orderable:!1},{data:"provider",orderable:!1},{data:"rate",orderable:!1},{data:"pulse_amount",orderable:!1},{data:"total_pulse",orderable:!1},{data:"payment",orderable:!1},{data:"acount_number",orderable:!1},{data:"acount_name",orderable:!1},{data:"date",orderable:!1},{data:"status",orderable:!1},{data:"action",orderable:!1}],drawCallback:function(settings){}}),$("#btn-refresh").click((function(e){e.preventDefault(),table.ajax.reload()})),buttonClick()},buttonClick=function(){$(document).on("click",".btn-chg",(function(){const dataButtons=$(this).data("button");$.ajax({type:"POST",url:url+"/admin/transaction/status-info",data:{_token:csrf_token,qx:dataButtons},dataType:"json",success:function(response){const stsData=response.data;null!==stsData&&("1"===stsData?$("#default-radio-1").prop("checked",!0):"2"===stsData?$("#default-radio-2").prop("checked",!0):$("#default-radio-3").prop("checked",!0))}}),handleChangeStatus(dataButtons)}))},handleChangeStatus=function(vx){$(document).on("change",".custom-radios",(function(){var statusRs=$('input[name="status_transaction"]:checked').val();$.ajax({type:"POST",url:url+"/admin/transaction/change",data:{_token:csrf_token,qx:vx,sts:statusRs},dataType:"json",success:function(response){toastr.success(response.message),setTimeout(()=>{window.location.reload()},1500)},error:function(response){$.each(response.responseJSON,(function(key,value){toastr.error(value)}))}})}))};return{init:function(){handleDataTabelUser()}}}();$(document).ready((function(){Index.init()}));